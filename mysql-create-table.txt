create table product (
	mnum int not null, 
	pnum int not null primary key auto_increment,
	pname varchar(20) not null,
	pprice int not null,
	prdate date not null,
	thumb varchar(255),
	detail varchar(255),
    foreign key (mnum) references members (mnum)
);

create table product_img_file (
	inum int primary key not null auto_increment,
    pnum int not null,
    iname varchar(50) not null,
    itype varchar(50) not null,
	foreign key (pnum) references products (pnum)
);

create table orders(
	onum bigint  not null primary key auto_increment , -- PK int type
    bmnum varchar(255) not null, -- 회원번호
    smnum varchar(255) not null,
    ototal int not null,
    odate date not null,
    pnum int not null,
    blockid varchar(255) not null, -- 
    txid varchar(255) not null,
    foreign key (pnum) references product (pnum)
);

create table members(
	mnum int not null primary key,
    walletid varchar(255) not null, -- 
    id varchar(255) not null, -- 낫널
    pw varchar(255) not null,
    nickname varchar(255) not null,
    tel varchar(20) not null,
    addr varchar(255) not null,
    star int,
    foreign key (walletid) references wallet (walletid)
);

create table wallet (
	walletid varchar(255) not null primary key,
    balance int not null
);

create table member_auth (
	mnum int not null,
    auth varchar(50) not null,
    foreign key (mnum) references members (mnum)
);
